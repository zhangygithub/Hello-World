<!--
  Generated template for the TaskTimesheetPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar hideBackButton="true" color="primary">
      <ion-buttons left>
        <button ion-button icon-only (click)="dismiss(stopButShow)">
          <ion-icon name="ios-arrow-back"></ion-icon>
        </button>
      </ion-buttons>
      <ion-title> {{'label_title_task_timesheet' | translate}}</ion-title>
    </ion-navbar>
  </ion-header>

<ion-content padding>
    <ion-card>
      <ion-card-content>
        <ion-item>
          <ion-label fixed>{{'label_title_day' | translate}}</ion-label>
          <ion-input type="text" [(ngModel)]="TimesheetInfo.Date" disabled></ion-input>
        </ion-item>
        <ion-item style='float:right'>
          <ion-label fixed>{{'label_title_travel_time' | translate}}</ion-label>
          <ion-datetime displayFormat="HH:mm" pickerFormat="HH mm" [(ngModel)]='TimesheetInfo.TravelStartTime'>
          </ion-datetime>
        </ion-item>
        <ion-item style='float:right'>
          <ion-label fixed>{{'label_title_start_time' | translate}}</ion-label>
          <ion-input type="text" [(ngModel)]='TimesheetInfo.StartTime' disabled></ion-input>
        </ion-item>
        <ion-item style='float:right'>
          <ion-label fixed>{{'label_title_end_time' | translate}}</ion-label>
          <ion-input type="text" [(ngModel)]='TimesheetInfo.EndTime' disabled></ion-input>
        </ion-item>
        <ion-item >
          <ion-label> {{'label_Last_travel' | translate}}</ion-label>
          <ion-checkbox [(ngModel)]="TimesheetInfo.endTravel" (click)="selectEndTravel($event)"></ion-checkbox>
        </ion-item>
        <ion-item style='float:right'>
          <ion-label fixed>{{'label_title_end_travel' | translate}}</ion-label>
          <ion-datetime displayFormat="HH:mm" pickerFormat="HH mm" [(ngModel)]='TimesheetInfo.LastArrivalTime'>
          </ion-datetime>
        </ion-item>
      </ion-card-content>
    </ion-card>
  
    <ion-card>
      <ion-card-content>
        <ion-item *ngFor="let item of AllowanceInfo;let h = index">
          <ion-label fixed text-wrap>{{item.AllowanceName}}</ion-label>
          <ion-input type="text" [(ngModel)]='item.AllowanceAmount' (ionFocus)='AmountFocus(h,item.AllowanceAmount)'
            (ionBlur)='AmountBlur(h,item.AllowanceAmount)'></ion-input>
        </ion-item>
      </ion-card-content>
    </ion-card>
  
    <ion-card>
      <ion-card-content>
        <ion-item>
          <ion-label fixed>{{'label_title_project' | translate}}</ion-label>
          <ion-input type="text" [(ngModel)]='TaskInfo.TaskName' disabled></ion-input>
        </ion-item>
        <ion-item>
          <ion-label fixed>{{'label_title_task' | translate}}</ion-label>
          <ion-input type="text" [(ngModel)]='TaskInfo.TaskName' disabled></ion-input>
        </ion-item>
        <ion-item>
          <ion-label fixed>{{'label_title_unit' | translate}}</ion-label>
          <ion-input type="text" [(ngModel)]='TaskInfo.UnitGovId' disabled></ion-input>
        </ion-item>
        <ion-item>
          <ion-label fixed>{{'label_title_planned' | translate}}</ion-label>
          <ion-input type="text" [(ngModel)]='TaskInfo.PlannedHours' disabled></ion-input>
        </ion-item>
        <ion-item>
          <ion-label fixed>{{'label_title_actual' | translate}}</ion-label>
          <ion-input type="text" [(ngModel)]='TaskInfo.DeclaredHours' disabled></ion-input>
        </ion-item>
        <ion-item (click)="openPicker(1,progressColumnOptions)">
          <ion-label fixed>{{'label_title_progress' | translate}} (%)</ion-label> -->
          <ion-input type="text" [(ngModel)]='TaskInfo.Progress' disabled></ion-input>
        </ion-item>
        <ion-item (click)="openPicker(2,estimationColumnOptions)">
          <ion-label fixed>{{'label_title_estimated' | translate}} (h)</ion-label>
          <ion-input type="text" [(ngModel)]='TaskInfo.EstimatedHours'disabled></ion-input>
        </ion-item>
        <ion-item>
          <ion-label fixed>{{'label_title_fade' | translate}}</ion-label>
          <ion-select style='width:45%' [(ngModel)]='TaskInfo.FadeCauseId' [cancelText]=" 'cancel' | translate " [okText]=" 'ok' | translate ">
            <ion-option value="{{fade.key}}" *ngFor="let fade of fadeOptions" 
              text-wrap>{{fade.val}}</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label fixed>{{'label_title_comment' | translate}}</ion-label>
          <ion-textarea autoresize [(ngModel)]="body" placeholder="{{'label_title_comment' | translate}}" [(ngModel)]='TaskInfo.Comment'></ion-textarea>
        </ion-item>
      </ion-card-content>
    </ion-card>
    <!-- <ion-list style='margin-left: 12px;margin-right:12px'>
      <button ion-button block (click)='timesheetConfirm()'>{{'label_btn_confirm' | translate}}</button>
    </ion-list> -->
  </ion-content>
  <ion-footer>
    <button ion-button full (click)="timesheetConfirm()">{{'label_btn_confirm' | translate}}</button>
  </ion-footer>